
<p>Nodes: <span id="nodeCount"></span></p>
<p>Links: <span id="linkCount"></span></p>
<div id="graph"></div>
<script>

  const graphData = {{ graph_data | tojson }};

  const Graph = ForceGraph()(document.getElementById('graph'))
    .graphData(graphData)
    .nodeLabel(node => node.username)
    .onNodeClick(node => console.log(node));

  // Configuration for forces
  Graph.d3Force('charge', d3.forceManyBody().strength(-120));
  Graph.d3Force('link', d3.forceLink().distance(50));

  // Display the counts
  document.getElementById('nodeCount').textContent = graphData.nodes.length;
  document.getElementById('linkCount').textContent = graphData.links.length;

</script>